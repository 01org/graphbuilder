<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>GraphBuilder 2.0 (alpha): pig/graphbuilder.pig File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>pig/graphbuilder.pig File Reference</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">DEFINE ExtractJSONField com <br class="typebreak"/>
intel pig udf eval&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="graphbuilder_8pig.html#a48d640abea2d2c77f214589ba430655a">ExtractJSONField</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">DEFINE CreateRowKey com intel <br class="typebreak"/>
pig udf eval&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="graphbuilder_8pig.html#a4b4b26238d30c738dbc3d83c8d4d5a50">CreateRowKey</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">DEFINE RegexExtractAllMatches <br class="typebreak"/>
com intel pig udf eval&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="graphbuilder_8pig.html#a2c1b09989d26078a59fcee23ee841d60">RegexExtractAllMatches</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">DEFINE FlattenAsGBString com <br class="typebreak"/>
intel pig udf eval&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="graphbuilder_8pig.html#acbb4a5590d568c87dbc02f03ca047ff2">FlattenAsGBString</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">DEFINE&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="graphbuilder_8pig.html#a8b0dedc2f6fd175348d5f5179ec7c357">MERGE_DUPLICATE_ELEMENTS</a> (inPropGraph) RETURNS outPropGraph</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">DEFINE&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="graphbuilder_8pig.html#a0effff80265ae259e545b9c4566f59cb">LOAD_TITAN</a> (input_hbase_table_name, vertex_rule, edge_rule, config_file, other_args) RETURNS void</td></tr>
</table>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a4b4b26238d30c738dbc3d83c8d4d5a50"></a><!-- doxytag: member="graphbuilder.pig::CreateRowKey" ref="a4b4b26238d30c738dbc3d83c8d4d5a50" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFINE CreateRowKey com intel pig udf eval CreateRowKey </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a48d640abea2d2c77f214589ba430655a"></a><!-- doxytag: member="graphbuilder.pig::ExtractJSONField" ref="a48d640abea2d2c77f214589ba430655a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFINE ExtractJSONField com intel pig udf eval ExtractJSONField </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="acbb4a5590d568c87dbc02f03ca047ff2"></a><!-- doxytag: member="graphbuilder.pig::FlattenAsGBString" ref="acbb4a5590d568c87dbc02f03ca047ff2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFINE FlattenAsGBString com intel pig udf eval FlattenAsGBString </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a0effff80265ae259e545b9c4566f59cb"></a><!-- doxytag: member="graphbuilder.pig::LOAD_TITAN" ref="a0effff80265ae259e545b9c4566f59cb" args="(input_hbase_table_name, vertex_rule, edge_rule, config_file, other_args) RETURNS void" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFINE LOAD_TITAN </td>
          <td>(</td>
          <td class="paramtype">input_hbase_table_name&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vertex_rule&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">edge_rule&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">config_file&nbsp;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">other_args&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>LOAD_TITAN macro bulk loads a graph into the Titan graph database and also passes the given arguments to GB for further configuration. This macro is a wrapper for the com.intel.hadoop.graphbuilder.sampleapplications.TableToGraphDB MapReduce job. For the details of the command line arguments </p>
<dl class="see"><dt><b>See also:</b></dt><dd>com.intel.hadoop.graphbuilder.sampleapplications.TableToGraphDB.</dd></dl>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>input_hbase_table_name</em>&nbsp;</td><td>: name of the input HBase table that GraphBuilder (GB) will create the graph from <br/>
 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>vertex_rule</em>&nbsp;</td><td>: vertex creation rule <a class="el" href="classcom_1_1intel_1_1hadoop_1_1graphbuilder_1_1pipeline_1_1tokenizer_1_1hbase_1_1HBaseGraphBuildingRule.html">see HBaseGraphBuildingRule </a> <br/>
 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>edge_rule</em>&nbsp;</td><td>: edge creation rule <a class="el" href="classcom_1_1intel_1_1hadoop_1_1graphbuilder_1_1pipeline_1_1tokenizer_1_1hbase_1_1HBaseGraphBuildingRule.html">see HBaseGraphBuildingRule </a> <br/>
 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>config_file</em>&nbsp;</td><td>: path to the XML configuration file to be used by GB for bulk loading to Titan <br/>
 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>other_args</em>&nbsp;</td><td>: other command line arguments to <a class="el" href="">TableToGraphDB </a> <br/>
 </td></tr>
  </table>
  </dd>
</dl>

<p><div class="fragment"><pre class="fragment"><a name="l00057"></a>00057                                                                                                         {
<a name="l00058"></a>00058     -- load an empty relation that will be used in the MAPREDUCE <span class="keyword">operator</span>
<a name="l00059"></a>00059     dummy = LOAD <span class="stringliteral">&apos;/tmp/empty&apos;</span> USING TextLoader() AS (line:chararray);
<a name="l00060"></a>00060     
<a name="l00061"></a>00061     -- we do a dummy STORE/LOAD below as the MAPREDUCE operator 
<a name="l00062"></a>00062     -- requires a STORE and then a LOAD operation
<a name="l00063"></a>00063     
<a name="l00064"></a>00064     stored_graph = MAPREDUCE &apos;target/graphbuilder-2.0-alpha-with-deps.jar&apos; 
<a name="l00065"></a>00065             STORE dummy INTO &apos;/tmp/tmp_store_1&apos;
<a name="l00066"></a>00066             LOAD &apos;/tmp/empty&apos; USING TextLoader() AS (line:chararray) 
<a name="l00067"></a>00067             `com.intel.hadoop.graphbuilder.sampleapplications.TableToGraphDB -conf $config_file --tablename $input_hbase_table_name --vertices $vertex_rule $edge_rule $other_args`;
<a name="l00068"></a>00068             
<a name="l00069"></a>00069     STORE stored_graph INTO &apos;/tmp/tmp_store_2&apos;;
<a name="l00070"></a>00070 };
</pre></div></p>

</div>
</div>
<a class="anchor" id="a8b0dedc2f6fd175348d5f5179ec7c357"></a><!-- doxytag: member="graphbuilder.pig::MERGE_DUPLICATE_ELEMENTS" ref="a8b0dedc2f6fd175348d5f5179ec7c357" args="(inPropGraph) RETURNS outPropGraph" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFINE MERGE_DUPLICATE_ELEMENTS </td>
          <td>(</td>
          <td class="paramtype">inPropGraph&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Remove duplicates from a given relation of property graph elements.</p>
<ul>
<li>
Vertices with the same IDs are treated as equal </li>
<li>
Edges with the same label and matching vertex IDs on their source and destination vertices are treated as equal </li>
<li>
Property lists are merged between duplicates, with conflicts resolved arbitrarily.  </li>
</ul>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>inPropGraph</em>&nbsp;</td><td>relation of property graph elements to remove the duplicates from </td></tr>
  </table>
  </dd>
</dl>

<p><div class="fragment"><pre class="fragment"><a name="l00037"></a>00037                                                                   {
<a name="l00038"></a>00038   DEFINE GetPropGraphEltID com.intel.pig.udf.eval.GetPropGraphElementID;
<a name="l00039"></a>00039   labeled = FOREACH $inPropGraph GENERATE (GetPropGraphEltID(*)), $0;
<a name="l00040"></a>00040   grouped = GROUP labeled BY $0;
<a name="l00041"></a>00041   DEFINE Merge com.intel.pig.udf.eval.MergeDuplicateGraphElements;
<a name="l00042"></a>00042   $outPropGraph = FOREACH grouped GENERATE FLATTEN(Merge(*));
<a name="l00043"></a>00043 };
</pre></div></p>

</div>
</div>
<a class="anchor" id="a2c1b09989d26078a59fcee23ee841d60"></a><!-- doxytag: member="graphbuilder.pig::RegexExtractAllMatches" ref="a2c1b09989d26078a59fcee23ee841d60" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DEFINE RegexExtractAllMatches com intel pig udf eval RegexExtractAllMatches </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
</div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Enumerations</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on 26 Dec 2013 for GraphBuilder 2.0 (alpha) by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
